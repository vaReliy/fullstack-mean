<div class="page-title">
  <h4>
    Огляд за попередній день ({{yesterdayDate | date:'dd.MM.yyyy'}})
    <i
      (click)="tapTargetOpen()"
      class="material-icons black-text pointer"
      id="dashboard-info">
      info_outline
    </i>
  </h4>
</div>

<div *ngIf="overviewData$ | async as data; else loader" class="row">
  <div class="col s12 l6">
    <div class="card light-blue lighten-2 white-text">
      <div class="card-content">
        <span class="card-title">Прибуток:</span>
        <h3>{{data.gain.yesterday}} грн.</h3>
        <h3
          [ngClass]="{
            'green-text text-darken-2': data.gain.isHigher,
            'red-text': !data.gain.isHigher
          }"
          class="m0 mb1">
          <i *ngIf="data.gain.isHigher" class="material-icons">arrow_upward</i>
          <i *ngIf="!data.gain.isHigher" class="material-icons">arrow_downward</i>
          {{data.gain.percent}}%
        </h3>
        <p>Прибуток вчора на {{data.gain.percent}}% {{data.gain.isHigher ? 'вище' : 'нижче'}} середнього: {{data.gain.compare}} грн/день</p>
      </div>
    </div>
  </div>

  <div class="col s12 l6">
    <div class="card orange lighten-2 white-text">
      <div class="card-content">
        <span class="card-title">Замовленнь:</span>
        <h3>{{data.order.yesterday}}</h3>
        <h3
          [ngClass]="{
            'green-text text-darken-2': data.order.isHigher,
            'red-text': !data.order.isHigher
          }"
          class="m0 mb1">
          <i *ngIf="data.gain.isHigher" class="material-icons">arrow_upward</i>
          <i *ngIf="!data.gain.isHigher" class="material-icons">arrow_downward</i>
          {{data.order.percent}}%
        </h3>
        <p>Число замовлень вчора на {{data.order.percent}}% {{data.order.isHigher ? 'вище' : 'нижче'}} середнього значення: {{data.order.compare}} зам/день</p>
      </div>
    </div>
  </div>
</div>

<ng-template #loader>
  <app-loader></app-loader>
</ng-template>


<div #tapTarget class="tap-target" data-target="menu">
  <div class="tap-target-content">
    <h5>Навіщо потрібна дана сторінка?</h5>
    <p>Сторінка "Огляд" показує динаміку продажів за попередній день. Порівняння із середнім значенням допоможе вам зрозуміти як йдуть справи у вашого бізнесу.</p>
  </div>
</div>
